{"version":3,"sources":["../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Label.js","pages/auth/Register.js"],"names":["propTypes","tag","tagPropType","inverse","PropTypes","bool","color","string","body","outline","className","cssModule","object","innerRef","oneOfType","func","Card","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","CardBody","stringOrNumberProp","number","columnProps","shape","size","order","offset","children","node","hidden","check","for","xs","sm","md","lg","xl","widths","array","getColumnSizeClass","isXs","colWidth","colSize","Label","htmlFor","colClasses","forEach","i","columnProp","colClass","isObject","_classNames","colSizeInterfix","push","length","connect","state","AuthReducer","isAuth","loading","err","dispatch","regUser","history","email","password","setErr","message","type","payload","response","data","clearError","useState","setEmail","setPassword","repeatPassword","setRepeatPassword","useHistory","useEffect","localStorage","getItem","to","style","backgroundColor","height","onSubmit","e","preventDefault","id","name","value","onChange","target","pattern","onClick","replace"],"mappings":"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","file":"static/js/7.1fa71ba5.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.shape({\n  size: stringOrNumberProp,\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  children: PropTypes.node,\n  hidden: PropTypes.bool,\n  check: PropTypes.bool,\n  size: PropTypes.string,\n  for: PropTypes.string,\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'label',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"hidden\", \"widths\", \"tag\", \"check\", \"size\", \"for\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? \"col-form-label-\" + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.propTypes = propTypes;\nLabel.defaultProps = defaultProps;\nexport default Label;","import React, { useState, useEffect } from 'react'\r\nimport { Container, Input, Button, ButtonGroup, Label, Row, Col, Card, CardBody } from 'reactstrap'\r\nimport { useHistory, Link, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { regUser } from '../../redux/actions';\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [repeatPassword, setRepeatPassword] = useState('')\r\n    const history = useHistory();\r\n    const handleSumbit = (e) => {\r\n        e.preventDefault();\r\n        if(password !== repeatPassword){\r\n            props.setErr('Password does not match')\r\n            return;\r\n        }\r\n        props.regUser({ email, password }, history);\r\n    }\r\n    const {clearError} = props;\r\n    useEffect(()=>{\r\n        clearError()\r\n    }, [clearError])\r\n\r\n    if(localStorage.getItem('token'))  {\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    return (\r\n        <div style={{backgroundColor: '#e3f2fd'}}>\r\n            <Container>\r\n                <Row\r\n                    style={{height:'100vh'}}\r\n                    className='justify-content-center align-items-center'>\r\n                    <Col md={6}>\r\n                        <Card className=\"shadow\">\r\n                            <CardBody>\r\n                                <form onSubmit={handleSumbit}>\r\n                                    <h2>Регистрация</h2>\r\n                                    <p>Легко и быстро!</p>\r\n                                    {props?.err && props?.err?.response?.data?.message && (\r\n                                        <h4 className='text-danger'>\r\n                                            Ошибка: {props.err.response.data?.message\r\n                                            }\r\n                                        </h4>\r\n                                    )}\r\n                                    <Label htmlFor='email' className=\"mt-3\">\r\n                                        Адрес электронной почты:\r\n                                    </Label>\r\n                                    \r\n                                    <Input\r\n                                        id='email'\r\n                                        name='email'\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                    />\r\n                                    <Label htmlFor='password' className=\"mt-3\">\r\n                                        Пароль:\r\n                                    </Label>\r\n                                    <Input\r\n                                        id='password'\r\n                                        name='password'\r\n                                        value={password}\r\n                                        onChange={(e) => setPassword(e.target.value)}\r\n                                        pattern=\"^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$\"\r\n                                    />\r\n                                    <Label htmlFor='repeat_password' className=\"mt-3\">\r\n                                        Повторите пароль:\r\n                                    </Label>\r\n                                    <Input\r\n                                        id='repeat_password'\r\n                                        name='repeat_password'\r\n                                        value={repeatPassword}\r\n                                        onChange={(e) =>setRepeatPassword(e.target.value)}\r\n                                    />\r\n                                    <ButtonGroup className=' w-100 mt-3'>\r\n                                        <Button style={{\r\n                                            'backgroundColor': '#7FB3FF',\r\n                                            'color': 'black',\r\n                                            'border': 'none',\r\n                                        }}\r\n                                            type='submit'\r\n                                            >Регистрация\r\n                                        </Button>\r\n                                        <Button onClick={()=>history.replace('/auth/login')} type='reset'\r\n                                        style={{\r\n                                        'backgroundColor': '#C7C7C7',\r\n                                        'color': 'black',\r\n                                        'border': 'none'\r\n                                        }}>Отмена</Button>\r\n                                    </ButtonGroup>\r\n                                </form>\r\n                                <p className=\"text-center mt-3\">Есть аккаунт? {\" \"}\r\n                                    <Link to=\"/auth/login\">Вход</Link>\r\n                                </p>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    const { isAuth, loading, err } = state.AuthReducer;\r\n    return { isAuth, loading, err }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        regUser: ({ email, password }, history) => {\r\n            dispatch(regUser(\r\n                { email, password },\r\n                history\r\n            )\r\n            )\r\n        },\r\n        setErr: (message)=>dispatch({\r\n            type: \"REGISTER_USER_FAILED\",\r\n            payload: {response:{data:{message}}}\r\n        }),\r\n        clearError: ()=>dispatch({\r\n            type: 'CLEAR_ERROR'\r\n        })\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register)\r\n"],"sourceRoot":""}